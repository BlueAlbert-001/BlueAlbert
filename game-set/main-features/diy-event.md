# 自定义事件

## 一、概述

本篇为自定义事件的功能说明，开发说明请参阅：[自定义事件-开发说明](../dev-guide/diy-event.md)

自定义事件可用于产品埋点一些特殊事件，并进行数据统计；想要了解一些游戏的特殊场景数据，如签到、道具领取点击次数等各种游戏实际需要的数据，都可以通过自定义事件功能，进行事件埋点，并在后台查看事件的数据。

对于配置的每一个事件，将计算事件触发次数与事件触发人数两个默认指标，后台中的事件触发率为事件触发人数/游戏活跃用户数。

## 二、名词说明

**事件（event）**

自定义的一个行为，例如监控玩家的购买商品行为，可以定义一个事件为“购买商品”。需要在后台配置。

**参数**

事件的一个属性，例如购买的商品，可以定义该事件的一个参数为“商品”。需要在后台配置。

**参数值**

参数的一个具体值，例如购买了商品首充礼包、新手礼包，此时自定义事件可以传入“首充礼包”、“新手礼包”作为参数值。由游戏客户端传入。

例如：

> 产品策划想要监控玩家的充值行为，定了一个事件为“购买商品”，策划想要知道玩家购买那种商品最多，来研究内购行为。策划又在该事件下定义了参数“商品”，以此来了解用户购买的商品情况。在使用自定义事件功能后，上报用户购买的实际商品（这就是参数值），便可以了解到各种商品的购买情况。

## 三、新建自定义事件

### 1、创建一个事件

点击新建按钮，填写完成事件ID以及事件名称后，即创建成功一个自定义事件。

注意：一旦创建成功后，事件ID不可编辑，在设置时，请慎重。

![&#x81EA;&#x5B9A;&#x4E49;&#x4E8B;&#x4EF6;&#x540E;&#x53F0;](../../.gitbook/assets/image%20%28226%29.png)

![&#x521B;&#x5EFA;&#x4E8B;&#x4EF6;&#x7A97;&#x53E3;](../../.gitbook/assets/image%20%28254%29.png)

### 2、通过excel批量导入事件

除了通过新建外，也可以通过导入excel表格，将已有的事件通过表格的形式批量导入，点击导入事件excel后，选择文件后，即可开始导入。

需要使用该功能的请点击导入excel表格旁的「下载事件导入文档模版」按钮，在模板中填写需要导入的事件。

excel模板内容如下：

![](../../.gitbook/assets/image%20%283%29.png)

## 四、配置与开发

#### **1、编辑**

点击编辑按钮，在弹窗中可编辑事件的说明，不可编辑事件ID。

#### **2、确认配置**

确认新建的事件与参数信息无误。

**事件配置**

点击新建事件，可以创建事件。

![](../../.gitbook/assets/image%20%28279%29.png)

例如在后台中配置了一个“老用户对局死亡触发”的事件，事件ID为“BATTLE\_WINER”。

![&#x914D;&#x7F6E;&#x7684;&#x4E8B;&#x4EF6;](../../.gitbook/assets/image%20%28278%29.png)

**参数配置**

点击参数配置，可以配置该事件的参数，并编辑参数的名称与类型（目前参数的类型仅支持次数，后续天幕会陆续支持更多类型数据），也可以将不需要的参数下架掉。

![](../../.gitbook/assets/image%20%28282%29.png)

例如配置了参数“新老用户等级”，参数ID为“user\_type”.

![](../../.gitbook/assets/image%20%28287%29.png)

#### 3、提交开发

点击操作栏里的「复制代码」，复制开发需要的自定义事件埋点代码，在客户端中合适的位置加入此代码即可。

![](../../.gitbook/assets/image%20%28286%29.png)

将此内容发送给技术人员，请根据业务具体的需求使用。

## 五、查看事件数据

点击「查看自定义事件数据」即可进入数据查看页面，在数据查看页面，可以直观的了解到不同事件的触发次数，若了解更详细的数据，请点击操作栏中的详情，可进入更详细的查看页面。

在更详细的页面中，可查看整体事件的触发次数、人数，更可以查看参数明细，了解事件更细致的数据。

数据后台位置：游戏数据-选择目标的游戏-自定义事件数据菜单

### 1、查看事件数据

![](../../.gitbook/assets/image%20%28281%29.png)

点击详情以后可以查看该事件在一定时间区间内的数据，如果时间配置了参数，切换至参数明细tab还可以查询参数数据。

### 2、查看参数数据

在表格上方展示的是参数的数据，表格中展示的参数值的数据。

![](../../.gitbook/assets/image%20%28288%29.png)

点击参数值的详细，可以查看参数值在所选时间区间内的数据。

![](../../.gitbook/assets/image%20%28283%29.png)

